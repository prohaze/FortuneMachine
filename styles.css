/* 添加自定义字体 */
@font-face {
    font-family: 'ABeeZee';
    src: url('ArtAsset/ABeeZee-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

/* 全局样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    overflow: hidden;
    cursor: url('ArtAsset/NormalCursor.png'), auto;
    background-color: rgba(219, 71, 137, 1);
}

body {
    cursor: url('ArtAsset/NormalCursor.png') 0 0, auto;
}
body.new-cursor {
    cursor: url('ArtAsset/NewCursor.png') 0 0, auto !important;
}

/* -----------------------------------------------Start页面样式----------------------------------------------- */
.start-page {
    width: 100vw;
    height: 100vh;
    position: relative;
}

.start-container {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.start-background {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transform: scale(1.0);
    z-index: 1;
}

.start-title {
    position: absolute;
    top: -22%;
    left: 35%;
    transform: translateX(-50%);
    scale: 0.75;
    z-index: 2;
    animation: float 3s ease-in-out infinite;
}

.start-button {
    position: absolute;
    bottom: 13%;
    left: 50%;
    transform: translateX(-50%) scale(0.65);
    z-index: 2;
    transition: transform 0.3s ease;
    cursor: url('ArtAsset/NormalCursor.png'), pointer;
}

.start-button:hover {
    transform: translateX(-50%) scale(0.8);
}

/* 浮动动画 */
@keyframes float {
    0%, 100% {
        transform: translateX(-50%) translateY(0px);
    }
    50% {
        transform: translateX(-50%) translateY(-10px);
    }
}

/* 页面过渡动画 */
.page-transition-out {
    animation: zoomOut 0.8s ease-in-out forwards;
}

@keyframes zoomOut {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform: scale(3);
        opacity: 0;
    }
}

.page-transition-in {
    animation: slideIn 0.8s ease-in-out forwards;
}

@keyframes slideIn {
    0% {
        transform: translateX(100%);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

/*----------------------------------------------- Instruction 页面样式 -----------------------------------------------*/
.instruction-page {
    width: 100vw;
    height: 100vh;
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.instruction-container {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

.instruction-background {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
}

.instruction-welcome {
    position: absolute;
    scale: calc(0.7);
    bottom: -35%;
    z-index: 2;
}

.instruction-text {
    position: absolute;
    top: -25%;
    left: 50%;
    transform: translateX(-50%) scale(0.69);
    z-index: 2;
}

.instruction-hint-text {
    position: absolute;
    bottom: 5%;
    right: 5%;
    z-index: 2;
    opacity: 0;  /* 初始透明 */
    transition: opacity 0.8s ease-in;  /* 淡入过渡 */
}

@keyframes breathe {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}

/*----------------------------------------------- Incenseoffering页面样式 -----------------------------------------------*/
.incense-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background: url('ArtAsset/Incenseoffering/IncenseofferingBackground.png') center/cover no-repeat;
    z-index: 1;
}

/* 提示文字：呼吸灯效果 */
.incense-hint {
    position: absolute;
    bottom: 8%;
    left: 50%;
    transform: translateX(-50%) scale(0.8);
    opacity: 1;              /*默认显示*/
    animation: breathe 2s ease-in-out infinite;
    animation-play-state: running; /*自动播放*/
    z-index: 9999;
}

/*
.incense-hint.show {
    opacity: 1;
    animation-play-state: running;
}*/

@keyframes breathe {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}


/* 背景桌子：只动画 bottom/opacity，不改 transform */
.incense-box {
    position: absolute;
    bottom: -13.5%;
    left: 50%;
    transform: translateX(-50%) scale(0.75);
    z-index: 2;
    animation: slideUpBox 1s ease-out;
}

/* 所有香：hover 需要平滑，且不被动画写死 transform */
.incense-item {
    position: absolute;
    bottom: -200px;
    z-index: 3;
    cursor: url('ArtAsset/NormalCursor.png'), pointer;
    transition: transform 0.25s ease;
    will-change: transform;
}

/* 初始位置与缩放（用 transform 合并） */
.incense-1 { 
    left: 15%; 
    bottom: 20%;
    transform: scale(0.75);
    animation: slideUpIncense 1s ease-out 0.3s;
}

.incense-2 { 
    left: 70%; 
    bottom: 26%;
    transform: translateX(-50%) scale(0.75);
    animation: slideUpIncense 1s ease-out 0.5s;
}

.incense-3 { 
    right: 30%; 
    bottom: 15%;
    transform: scale(0.73);
    animation: slideUpIncense 1s ease-out 0.7s;
}

/* hover：保留原 transform，再在其上放大 */
.incense-1:hover {
    transform: scale(0.9);
}
.incense-2:hover {
    transform: translateX(-50%) scale(0.9);
}
.incense-3:hover {
    transform: scale(0.9);
}

.incense-arrow {
    position: absolute;
    bottom: 4%;
    right: -2%;
    opacity: 0;
    transform: translateY(100px);
    transition: all 0.8s ease-out;
    cursor: url('ArtAsset/NewCursor.png'), pointer;
}

.incense-arrow.show {
    opacity: 1;
    transform: translateY(0);
    animation: float 2s ease-in-out infinite;
}

/* 上香动画：只改 bottom/opacity，不改 transform */
@keyframes slideUpBox {
    from { bottom: -200px; opacity: 0; }
    to   { bottom: -13.5%; opacity: 1; }
}

@keyframes slideUpIncense {
    from { bottom: -200px; opacity: 0; }
    to   { bottom: 20%px;  opacity: 1; }
}

/*----------------------------------------------- Building页面样式 -----------------------------------------------*/
/* 只在 Building 页面生效 */
.building-page .building-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background: url('ArtAsset/Building/BuildingBackground.png') center/cover;
}

.building-page .building-arrow {
    position: absolute;
    top: 86%;
    left: -10%;
    transform: translateY(-50%) translateX(-200px);
    scale: calc(0.8);
    animation: slideInArrow 1s ease-out forwards;
}

@keyframes slideInArrow {
    to { transform: translateY(-50%) translateX(0); }
}

.building-page .building-items {
    position: relative;
    width: 100%;
    height: 100%;
    scale: 0.8;
}

.building-page .building-item {
    position: absolute;
    cursor: url('ArtAsset/NewCursor.png'), pointer;
    animation: jumpUp 1s ease-out forwards;
    opacity: 0;
    z-index: 2; /* 主体在上层 */
}

/* 单独控制每个建筑的位置 */
.building-page .building-item:nth-child(1) { left: -6.5%; bottom: 2%; animation-delay: 0.5s; }
.building-page .building-item:nth-child(2) { left: 17%; bottom: 2%; animation-delay: 0.7s; }
.building-page .building-item:nth-child(3) { left: 50%; bottom: 28%; animation-delay: 0.9s; }
.building-page .building-item:nth-child(4) { left: 79%; bottom: 7%; animation-delay: 1.1s; }

@keyframes jumpUp {
    0% { transform: translateY(100px); opacity: 0; }
    50% { transform: translateY(-20px); opacity: 1; }
    100% { transform: translateY(0); opacity: 1; }
}

.building-page .building-main { position: relative; z-index: 2; }

.building-page .building-icon {
    position: absolute;
    opacity: 0;
    z-index: 1;
    animation: float 2s ease-in-out infinite;
}

.building-page .building-icon.show {
    opacity: 1;
    z-index: 1;
}

/* 自定义建筑吉祥物位置 */
.building-page .pixiu-icon { top: 2%; left: 18%; }
.building-page .huangdaxiansi-icon { top: -28%; left: 42%; }
.building-page .sanshengtang-icon { top: -50%; left: 50%; }
.building-page .shengxiang-icon { top: -25%; left: 100%; }

/* Building 页面提示文字 */
.building-page .building-hint {
    position: absolute;
    top: 12%;           /* 距离顶部5%，位于最上方 */
    left: 50%;
    transform: translateX(-50%) scale(0.8);
    opacity: 1;        /* 默认显示 */
    animation: breathe 2s ease-in-out infinite;
    z-index: 9999;     /* 确保在最上层 */
}

/* 建筑图片hover放大效果 */
.building-page .building-main {
    transition: transform 0.3s ease; /* 添加平滑过渡 */
}

.building-page .building-main:hover {
    transform: scale(1.1); /* 鼠标悬停时放大10% */
}

/*----------------------------------------------- Drawinglots页面样式 -----------------------------------------------*/
.drawinglots-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background: url('ArtAsset/Drawinglots/DrawinglotsBackground.png') center/cover;
    display: flex;
    justify-content: center;
    align-items: center;
}

.drawinglots-spot {
    position: absolute;
    opacity: 0;
    transform: scale(0.7);
    left: 30%;
    top: 10%;
    animation: fadeIn 1s ease-out forwards;
}

.drawinglots-pot {
  position: absolute;
  opacity: 0;
  transform: scale(0.7);
  z-index: 2;
  cursor: url('ArtAsset/NewCursor.png'), pointer;
}

.drawinglots-pot.show {
  animation-name: fadeIn;
  animation-duration: 1s;
  animation-fill-mode: forwards;
}

.drawinglots-pot.shake {
  animation-name: shake;
  animation-duration: 2.0s;
  animation-timing-function: ease-in-out;
}


.drawinglots-lot {
    position: absolute;
    opacity: 0;
    z-index: 3;
    /* 默认不接收点击 */
    pointer-events: none;
}

.drawinglots-lot.show {
    opacity: 1;
    z-index: 4;
    transform: scale(0.65);
    top: 1%;
    /* 显示后才可点击 */
    pointer-events: auto;
    animation: fadeIn 0.5s ease-out;
}


@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes shake {
  0%, 100% { transform: scale(0.7) translate(0, 0); opacity: 1; }
  5% { transform: scale(0.7) translate(-5px, -5px); opacity: 1; }
  10% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  15% { transform: scale(0.7) translate(-5px, -5px); opacity: 1; }
  20% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  25% { transform: scale(0.7) translate(-5px, -5px); opacity: 1; }
  30% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  35% { transform: scale(0.7) translate(-5px, -5px); opacity: 1; }
  40% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  45% { transform: scale(0.7) translate(-5px, -5px); opacity: 1; }
  50% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  55% { transform: scale(0.7) translate(-5px, 5px); opacity: 1; }
  60% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  65% { transform: scale(0.7) translate(-5px, 5px); opacity: 1; }
  70% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  75% { transform: scale(0.7) translate(-5px, 5px); opacity: 1; }
  80% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  85% { transform: scale(0.7) translate(-5px, 5px); opacity: 1; }
  90% { transform: scale(0.7) translate(5px, 5px); opacity: 1; }
  95% { transform: scale(0.7) translate(-5px, 5px); opacity: 1; }
}


.shake {
    animation: shake 0.5s ease-in-out;
}

/*----------------------------------------------- Interpretation页面样式 -----------------------------------------------*/
.interpretation-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background: url('ArtAsset/Interpretation/InterpretationBackground.png') center/cover;
    display: flex;
    justify-content: center;
    align-items: center;
}

.interpretation-paper {
    position: absolute;
    opacity: 0;
    transform: scale(0.68);
    bottom: -8%;
    animation: fadeIn 1s ease-out forwards;
}

.interpretation-result {
    position: absolute;
    opacity: 0;
    transform: scale(0.68);
    bottom: 1%;
    animation: fadeIn 1s ease-out 1s forwards;
}

.interpretation-button {
    position: absolute;
    bottom: 0%;
    left: 42%;
    transform: translateX(-50%);
    scale: 0.65;
    opacity: 0;
    animation: fadeIn 1s ease-out 6s forwards, float 2s ease-in-out infinite 6s;
    cursor: url('ArtAsset/NewCursor.png'), pointer;
}

.interpretation-download {
    position: absolute;
    bottom: 0%;
    left: calc(60%);  /* 在InterpretationButton右边120px位置 */
    transform: translateX(-50%);
    scale: 0.65;
    opacity: 0;
    animation: fadeIn 1s ease-out 6s forwards, float 2s ease-in-out infinite 6s;
    cursor: url('ArtAsset/NewCursor.png'), pointer;
    z-index: 1000;
}

.manga-container {
    position: absolute;
    top: 34%;
    left: 35%;
    transform: translate(-50%, -50%);
    scale: 0.76;
    display: flex;
    gap: 36px;
}

/* 漫画图片初始状态完全隐藏且在左侧 */
.manga-item {
    opacity: 0;
    transform: translateX(-100px);
    transition: all 0.8s ease-out; 
}

/* 当添加.show类时：滑入并显示 */
.manga-item.show {
    opacity: 1;
    transform: translateX(0);
}

/* 不再需要自动播放 */
/*
.manga-item:nth-child(1) { animation-delay: 1s; }
.manga-item:nth-child(2) { animation-delay: 1.2s; }
.manga-item:nth-child(3) { animation-delay: 1.4s; }
.manga-item:nth-child(4) { animation-delay: 1.6s; }

@keyframes slideInManga {
    to {
        opacity: 1;
        transform: translateX(0);
    }
}
*/

/* 文字图位置：左下角 */
.manga-text {
    position: absolute;
    bottom: 2%;
    left: -10%; /* 改为left: 2% 更靠左 */
    opacity: 0;
    transform: scale(0.7);
    transition: opacity 1s ease-out; /* 添加淡入过渡 */
    z-index: 10;
}

/* 箭头位置：右下角 */
.interpretation-arrow {
    position: absolute;
    bottom: 3%;
    right: 2%; /* 改为right: 2% 更靠右 */
    opacity: 0;
    transform: scale(0.75);
    transition: opacity 1s ease-out; /* 添加淡入过渡 */
    animation: float 2s ease-in-out infinite;
    cursor: url('ArtAsset/NewCursor.png'), pointer;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

/* 漫画提示图：初始显示在右下角 */
.interpretation-manga-hint {
    position: absolute;
    bottom: 3%;
    right: 2%;
    opacity: 1;
    transform: scale(0.75);
    animation: float 2s ease-in-out infinite; /* 上下浮动 */
    z-index: 100;
    cursor: url('ArtAsset/NewCursor.png'), pointer;
}

/* 当所有漫画显示完后，隐藏提示图 */
.interpretation-manga-hint.hide {
    opacity: 0;
    pointer-events: none;
}
/*----------------------------------------------- Ending页面样式 -----------------------------------------------*/
.ending-container {
    width: 100vw;
    height: 100vh;
    position: relative;
    background: url('ArtAsset/Ending/EndingBackground.png') center/cover;
    cursor: url('ArtAsset/NormalCursor.png'), auto;
}

.ending-title {
    position: absolute;
    top: -20%;
    left: 37%;
    transform: translateX(-50%);
    opacity: 0;
    scale: 0.8;
    animation: fadeInUp 2s ease-out forwards, float 3s ease-in-out infinite 2s;
}

@keyframes fadeInUp {
    0% {
        opacity: 0;
        transform: translateX(-50%) translateY(50px);
    }
    100% {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.ending-replay {
    position: absolute;
    bottom: 1.5%;
    left: 42%;
    transform: translateX(-50%);
    opacity: 0;
    scale: 0.6;
    animation: fadeIn 1s ease-out 3s forwards;
    cursor: url('ArtAsset/NormalCursor.png'), pointer;
}

.ending-replay:hover {
    transform: translateX(-50%) scale(1.1);
}

/* 重新抽签按钮 */
.ending-redraw {
    position: absolute;
    bottom: 3.5%;
    left: 48%; 
    transform: translateX(-50%);
    opacity: 0;
    scale: 0.6;
    animation: fadeIn 1s ease-out 3.5s forwards; /* 比 Replay 晚 0.5 秒出现 */
    cursor: url('ArtAsset/NormalCursor.png'), pointer;
}

.ending-redraw:hover {
    transform: translateX(-50%) scale(1.1);
}

/*----------------------------------------------- 全局样式 -----------------------------------------------*/
/*进度条*/
.progress-wrap {
  position: fixed;   /* 固定在窗口底部 */
  bottom: 0;
  left: 0;
  width: 100vw;
  height: 6px;
  background: rgba(255,255,255,0.2);
  z-index: 99999;    /* 提高层级，确保在所有页面容器之上 */
  pointer-events: none; /* 避免遮挡页面点击 */
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: rgba(255,255,255,0.9);
  transition: width 0.5s ease;
}

/*网页上方的文字提醒*/
.page-hint {
  position: fixed;
  top: 5%;
  left: 50%;
  transform: translateX(-50%);
  color: white;
  font-size: 24px;
  font-weight: bold;
  z-index: 10000;
  pointer-events: none; /* 不影响点击 */
  opacity: 0;
  transition: opacity 0.5s ease;
}

.page-hint.show {
  opacity: 1;
}

/*----------------------------------------------- 页面顶部提示文字样式 -----------------------------------------------*/
.page-hints-container {
    position: fixed;
    top: 5%;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 25px;          /* 减小间距 */
    z-index: 10000;
    font-family: 'ABeeZee', Arial, sans-serif;
    font-size: 18px;    /* 减小字体大小 */
    color: rgba(255, 255, 255, 0.5);
    pointer-events: none;
    white-space: nowrap; /* 强制不换行 */
}

/* 在 Start, Instruction, Ending 页面隐藏顶部提示文字 */
.start-page .page-hints-container,
.instruction-page .page-hints-container,
.ending-page .page-hints-container {
    display: none !important;
}

.page-hint-item {
    position: relative;
    transition: all 0.5s ease;
    color: rgba(255, 255, 255, 0.5);  /* 默认暗色 */
}

/* 发光状态 */
.page-hint-item.glow {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
}

/* Incenseoffering页面：第一个提示发光 */
.incenseoffering-page #hint-incense {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
}

/* Building页面：第二个提示发光 */
.building-page #hint-temple {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
}

/* Drawinglots页面：第三个提示发光 */
.drawinglots-page #hint-draw {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
}

/* Interpretation页面初始状态：第四个提示发光 
.interpretation-page #hint-poem {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
}

Interpretation页面漫画模式：第五个提示发光 
.interpretation-page #hint-comic {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.8), 0 0 20px rgba(255, 255, 255, 0.6);
}*/
